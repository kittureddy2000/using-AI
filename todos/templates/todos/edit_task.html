{% load todo_extras %}

<form method="post" class="mb-3" id="edit-task-form" data-task-id="{{ task_id }}" enctype="multipart/form-data">
    {% csrf_token %}
        <!-- Display non-field errors -->
        {{ edit_task_form.non_field_errors }}
    
        <div class="mb-3">
            {{ edit_task_form.task_name.label_tag }}
            {{ edit_task_form.task_name|add_class:"form-control" }}
            <!-- Display field-specific errors -->
            {{ edit_task_form.task_name.errors }}
        </div>
        <div class="mb-3">
            {{ edit_task_form.task_description.label_tag }}
            {{ edit_task_form.task_description|add_class:"form-control" }}
            {{ edit_task_form.task_description.errors }}
        </div>
        <div class="mb-3 form-date">
            {{ edit_task_form.due_date|add_class:"form-check-input" }}
            {{ edit_task_form.due_date.label_tag }}
            {{ edit_task_form.due_date.errors }}
        </div>
        <div class="mb-3 form-date">
            {{ edit_task_form.reminder_time|add_class:"form-check-input" }}
            {{ edit_task_form.reminder_time.label_tag }}
            {{ edit_task_form.reminder_time.errors }}
        </div>
        <div class="mb-3">
            {{ edit_task_form.recurrence.label_tag }}
            {{ edit_task_form.recurrence|add_class:"form-select" }}
            {{ edit_task_form.recurrence.errors }}
        </div>        

        <div class="mb-3">
            {{ edit_task_form.list_name.label_tag }}
            {{ edit_task_form.list_name|add_class:"form-select" }}
            {{ edit_task_form.list_name.errors }}
        </div>        
   
        <!--Handle Images -->

        <ul class="list-group">
            {% for image in images %}
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    <a href="{{ image.image_url }}" target="_blank">
                        <i class="fas fa-file-image"></i> {{image.image_name}}
                    </a>
                    <!-- Optionally, add a delete button for each image -->
                </li>
            {% endfor %}
        </ul>
    

        <label for="images">Upload Images XXX:</label>
        <input type="file" name="images" id="images" multiple><hr>

        <button type="submit" class="btn btn-success" >Save</button>

    </form>
     
