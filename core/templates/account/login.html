{% extends 'core/base.html' %}
{% load i18n %}
{% load form_extras %}


{% block title %}Login{% endblock %}

{% block content %}
<div class="container-fluid">

    {% block messages %}
    {% if messages %}
    <div class="messages-container">
        {% for message in messages %}
        <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
            <strong>{{ message }}</strong>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        {% endfor %}
    </div>
    {% endif %}
{% endblock %}


<h3 class="h3" id="head_banner">{% trans "Sign In" %}</h3>
<!-- 
<form class="container-fluid text-center" id="login_form" method="POST" action="{% url 'account_login' %}">
  {% csrf_token %}
   -->
  <!-- {{ form.as_p }} -->
  
  <form class="container" id="login_form" method="POST" action="{% url 'account_login' %}">
    {% csrf_token %}
    
    <div class="form-group row mb-3">
        <label for="id_login" class="col-sm-2 col-form-label">Username or Email:</label>
        <div class="col-sm-10">
            {{ form.login|add_class:"form-control" }}
        </div>
    </div>

    <div class="form-group row mb-3">
        <label for="id_password" class="col-sm-2 col-form-label">Password:</label>
        <div class="col-sm-10">
            {{ form.password|add_class:"form-control" }}
            <a href="{% url 'account_reset_password' %}" class="float-right">Forgot your password?</a>
        </div>
    </div>

    <div class="form-group row mb-3">
        <div class="col-sm-10 offset-sm-2">
            {{ form.remember|add_class:"form-check-input" }} Remember Me
        </div>
    </div>

    <div class="form-group row mb-3">
        <div class="col-sm-10 offset-sm-2">
            <button class="btn btn-outline-primary" type="submit">Sign In</button>
        </div>
    </div>

    <div class="form-group row mb-3">
        <div class="col-sm-10 offset-sm-2">
            <p>Don't have an account? <a href="{% url 'account_signup' %}">Sign up here</a></p>
        </div>
    </div>
</form>
<hr class="divider">

{% load socialaccount %}

<div class="form-group row mb-3">
    <div class="col-sm-4 offset-sm-2 text-center">

        <a title="Login with Google" class="btn btn-outline-dark" 
        href="{% provider_login_url 'google' %}">
        <i class="fab fa-google" id="social_icon"></i> Login with Google
        </a>
    </div>

</div>
</div>


<style>
    .divider {
      margin: 20px 0;
      border-top: 1px solid #e0e0e0;
    }
  </style>
  
{% endblock %}
